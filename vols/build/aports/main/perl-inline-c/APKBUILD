# Automatically generated by apkbuild-cpan, template 1
# Contributor: Timo Teräs <timo.teras@iki.fi>
# Maintainer: Timo Teräs <timo.teras@iki.fi>
pkgname=perl-inline-c
_pkgreal=Inline-C
pkgver=0.82
pkgrel=0
pkgdesc="Perl module for Inline-C"
url="https://metacpan.org/dist/Inline-C"
arch="noarch"
license="GPL-1.0-or-later OR Artistic-1.0-Perl"
options="!check" # fixme: add checkdepends
depends="perl"
makedepends="perl-file-sharedir-install"
subpackages="$pkgname-doc"
source="https://cpan.metacpan.org/authors/id/E/ET/ETJ/$_pkgreal-$pkgver.tar.gz"

builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	default_prepare
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	make
}

check() {
	make test
}

package() {
	make install DESTDIR="$pkgdir"
	find "$pkgdir" -name perllocal.pod -delete
}

sha512sums="
1d1e91a63df12b4f3dc631fd1b66f9bd2e006b300002d9aa184ab571a128953722127400a39055d07ee630709f2a7c96dd35ad6e0860959cbb5a6fce3134b357  Inline-C-0.82.tar.gz
"
