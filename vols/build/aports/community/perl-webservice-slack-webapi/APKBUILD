# Automatically generated by apkbuild-cpan, template 3
# Contributor: Timothy Legge <timlegge@gmail.com>
# Maintainer: Timothy Legge <timlegge@gmail.com>
pkgname=perl-webservice-slack-webapi
#_pkgreal is used by apkbuild-cpan to find modules at MetaCpan
_pkgreal=WebService-Slack-WebApi
pkgver=0.18
pkgrel=0
pkgdesc="a simple wrapper for Slack Web API"
url="https://metacpan.org/release/WebService-Slack-WebApi/"
arch="noarch"
license="MIT"
depends="
	perl perl-data-validator perl-class-accessor-lite-lazy perl-class-load perl-exception-tiny
	perl-io-socket-ssl perl-json perl-http-anyua perl-class-accessor-lite
	"
makedepends="perl-module-build-tiny perl-module-build"
checkdepends="perl-test-exception perl-furl"

subpackages="$pkgname-doc"
source="https://cpan.metacpan.org/authors/id/M/MI/MIHYAERU/WebService-Slack-WebApi-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

build() {
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	perl Build.PL --installdirs=vendor
	./Build
}

check() {
	./Build test
}

package() {
	./Build install --destdir="$pkgdir"
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

sha512sums="6f993aeeb5c95e86d27449adbf98e5c4dad2c7572b59341f65c7d383b6fc6a02676f586d217bde2c2488136a22e3bacdefd2d3c2e7d07b98d56ea293a062bc69  WebService-Slack-WebApi-0.18.tar.gz"
